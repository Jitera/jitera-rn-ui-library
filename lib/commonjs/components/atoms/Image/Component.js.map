{"version":3,"sources":["Component.tsx"],"names":["Image","React","forwardRef","ref","resizeMode","source","ImageComponent","RnImage","uri","props","newSource","displayName"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;AAWA,MAAMA,KAAK,gBAAGC,eAAMC,UAAN,CACZ,OAA4EC,GAA5E,KAAoF;AAAA,MAAnF;AAAEC,IAAAA,UAAU,GAAG,OAAf;AAAwBC,IAAAA,MAAxB;AAAgCC,IAAAA,cAAc,GAAGC,kBAAjD;AAA0DC,IAAAA,GAA1D;AAA+D,OAAGC;AAAlE,GAAmF;AAClF,QAAMC,SAAS,GAAG,oBAAQ,MAAM;AAC9B,QAAIF,GAAJ,EAAS;AACP,aAAO;AAAEA,QAAAA;AAAF,OAAP;AACD;;AACD,QAAI,OAAOH,MAAP,KAAkB,QAAtB,EAAgC;AAC9B,aAAO;AACLG,QAAAA,GAAG,EAAEH;AADA,OAAP;AAGD;;AACD,WAAOA,MAAP;AACD,GAViB,EAUf,CAACG,GAAD,EAAMH,MAAN,CAVe,CAAlB;AAYA,sBACE,6BAAC,cAAD;AAAgB,IAAA,GAAG,EAAEF,GAArB;AAA0B,IAAA,MAAM,EAAEO,SAAlC;AAA6C,IAAA,UAAU,EAAEN;AAAzD,KAAyEK,KAAzE,EADF;AAGD,CAjBW,CAAd;;AAoBAT,KAAK,CAACW,WAAN,GAAoB,OAApB;eAEeX,K","sourcesContent":["import React, { useMemo } from \"react\";\nimport { Image as RnImage, ImageProps as RnImageProps } from \"react-native\";\nimport type { PropsWithRef } from \"../../../type\";\n\nexport type ImageProps = PropsWithRef<\n  Omit<RnImageProps, 'source'> & {\n      ImageComponent?: React.ElementType<RnImageProps | any>;\n      uri?: string;\n      source: RnImageProps[\"source\"] | string;\n    }\n>;\n\nconst Image = React.forwardRef<RnImage, ImageProps>(\n  ({ resizeMode = \"cover\", source, ImageComponent = RnImage, uri, ...props }, ref) => {\n    const newSource = useMemo(() => {\n      if (uri) {\n        return { uri }\n      }\n      if (typeof source === \"string\") {\n        return {\n          uri: source,\n        };\n      }\n      return source;\n    }, [uri, source]);\n\n    return (\n      <ImageComponent ref={ref} source={newSource} resizeMode={resizeMode} {...props} />\n    );\n  }\n);\n\nImage.displayName = \"Image\";\n\nexport default Image;\n"]}