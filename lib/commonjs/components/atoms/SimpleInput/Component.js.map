{"version":3,"sources":["Component.tsx"],"names":["FloatingIcon","icon","style","containerStyle","onTap","props","StyleSheet","flatten","styleSheet","floatingIconContainer","e","nativeEvent","state","State","BEGAN","SimpleInput","React","forwardRef","ref","value","placeholder","numberOfLines","isPreview","editable","maxLength","inputRef","inputStyle","secureTextEntry","showClearText","clearIconColor","clearIconProps","showSecureEye","secureEyeIconColor","secureEyeIconProps","onChange","onBlur","onClear","onFocus","internalInputRef","isFirstMount","contentSizeHeight","setContentSizeHeight","isMultiline","isClearIconVisible","undefined","length","secured","setSecured","isSecureEyeIconVisible","paddingRight","minHeight","Platform","OS","container","containerTextInput","containerClearIconTextInput","current","textInput","textAlignVertical","paddingTop","paddingBottom","borderColor","event","blur","contentSize","height","display","justifyContent","marginTop","marginRight","IconType","Ionicons","oldSecured","create","backgroundColor","flexDirection","placeholderContainer","marginBottom","position","borderWidth","borderRadius","paddingLeft","top","right","bottom","zIndex"],"mappings":"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","sourcesContent":["import React, { useMemo, useRef, useState } from 'react';\nimport {\n  TextInput,\n  ColorValue,\n  NativeSyntheticEvent,\n  StyleProp,\n  StyleSheet,\n  TextInputEndEditingEventData,\n  TextInputProps,\n  TextStyle,\n  View,\n  ViewStyle,\n  Platform,\n} from 'react-native';\nimport { TapGestureHandler, State } from 'react-native-gesture-handler';\nimport { Icon, IconProps, IconType } from '../Icon';\nimport { useFirstMountState } from '../../../hooks/useFirstMountState';\nimport type { ViewProps } from '../View';\n\nexport interface SimpleInputProps\n  extends Omit<\n    TextInputProps,\n    'onChangeText' | 'onChange' | 'onBlur' | 'multiline' | 'style'\n  > {\n  style?: StyleProp<ViewStyle> | undefined;\n\n  onChange?: ((text: string) => void) | undefined;\n  onBlur?:\n    | ((e: NativeSyntheticEvent<TextInputEndEditingEventData>) => void)\n    | undefined;\n  isPreview?: boolean | undefined;\n  maxLength?: number | undefined;\n  inputRef?: React.MutableRefObject<TextInput | null> | undefined;\n  inputStyle?: StyleProp<TextStyle> | undefined;\n\n  showClearText?: boolean | undefined;\n  clearIconColor?: ColorValue | undefined;\n  clearIconProps?: IconProps | undefined;\n\n  showSecureEye?: boolean | undefined;\n  secureEyeIconColor?: ColorValue | undefined;\n  secureEyeIconProps?: IconProps | undefined;\n\n  onClear?: (() => void) | undefined;\n}\n\nexport interface FloatingIconProps extends ViewProps {\n  containerStyle?: StyleProp<ViewStyle>;\n  icon?: React.ReactElement;\n  onTap?: (() => void) | undefined;\n}\n\nconst FloatingIcon: React.FC<FloatingIconProps> = ({\n  icon,\n  style,\n  containerStyle,\n  onTap,\n  ...props\n}) => {\n  return (\n    <View\n      style={StyleSheet.flatten([\n        styleSheet.floatingIconContainer,\n        containerStyle,\n      ])}\n    >\n      <TapGestureHandler\n        onHandlerStateChange={(e) => {\n          if (e.nativeEvent.state === State.BEGAN) {\n            onTap && onTap();\n          }\n        }}\n      >\n        <View {...props} style={style}>\n          {icon}\n        </View>\n      </TapGestureHandler>\n    </View>\n  );\n};\n\nconst SimpleInput = React.forwardRef<View, SimpleInputProps>(\n  (\n    {\n      value,\n      placeholder,\n      style,\n      numberOfLines = 1,\n      isPreview,\n      editable,\n      maxLength,\n      inputRef,\n      inputStyle,\n      secureTextEntry,\n\n      showClearText,\n      clearIconColor,\n      clearIconProps,\n\n      showSecureEye,\n      secureEyeIconColor,\n      secureEyeIconProps,\n\n      onChange,\n      onBlur,\n      onClear,\n      onFocus,\n      ...props\n    },\n    ref\n  ) => {\n    const internalInputRef = useRef<TextInput>(null);\n    const isFirstMount = useFirstMountState();\n    const [contentSizeHeight, setContentSizeHeight] = useState(0);\n    const isMultiline = useMemo(() => {\n      if (secureTextEntry && numberOfLines! > 1) {\n        return false;\n      }\n      return numberOfLines! > 1;\n    }, [secureTextEntry, numberOfLines]);\n\n    const isClearIconVisible = useMemo(() => {\n      if (showClearText !== undefined) {\n        return showClearText;\n      }\n      return (value as string)?.length > 0;\n    }, [value, showClearText]);\n\n    const [secured, setSecured] = useState(secureTextEntry);\n    const isSecureEyeIconVisible = useMemo(() => {\n      if (showSecureEye !== undefined) {\n        return showSecureEye;\n      }\n      return secureTextEntry;\n    }, [secureTextEntry, showSecureEye]);\n\n    const paddingRight = useMemo(() => {\n      if (isClearIconVisible && isSecureEyeIconVisible) {\n        return 74;\n      }\n      if (isClearIconVisible || isSecureEyeIconVisible) {\n        return 44;\n      }\n      return undefined;\n    }, []);\n\n    const minHeight = useMemo(() => {\n      if (Platform.OS === 'ios' && isMultiline) {\n        return numberOfLines * contentSizeHeight + 28;\n      }\n      return undefined;\n    }, [contentSizeHeight, numberOfLines, isMultiline]);\n\n    return (\n      <View ref={ref} style={StyleSheet.flatten([styleSheet.container, style])}>\n        <View style={styleSheet.containerTextInput}>\n          <View style={styleSheet.containerClearIconTextInput}>\n            <TextInput\n              {...props}\n              ref={(ref) => {\n                if (inputRef) {\n                  inputRef.current = ref;\n                }\n                internalInputRef.current = ref;\n              }}\n              editable={editable || !isPreview}\n              style={StyleSheet.flatten([\n                styleSheet.textInput,\n                { textAlignVertical: isMultiline ? 'top' : 'center' },\n                { paddingTop: 14, paddingBottom: 14 },\n                { minHeight },\n                {\n                  borderColor: (inputStyle as ViewStyle)?.borderColor,\n                },\n                { paddingRight },\n                inputStyle,\n              ])}\n              value={value}\n              placeholder={placeholder}\n              maxLength={maxLength}\n              multiline={isMultiline}\n              numberOfLines={secureTextEntry ? undefined : numberOfLines}\n              secureTextEntry={secured}\n              underlineColorAndroid=\"transparent\"\n              onFocus={(event) => {\n                if (!isPreview) {\n                  onFocus && onFocus(event);\n                  return;\n                }\n                internalInputRef.current?.blur();\n              }}\n              onChangeText={onChange}\n              onEndEditing={(event) => {\n                onBlur && onBlur(event);\n              }}\n              onContentSizeChange={(e) => {\n                if (Platform.OS === 'ios' && isFirstMount) {\n                  setContentSizeHeight(e.nativeEvent.contentSize.height);\n                }\n              }}\n            />\n            {isClearIconVisible && (\n              <FloatingIcon\n                containerStyle={{\n                  display: isMultiline ? undefined : 'flex',\n                  justifyContent: isMultiline ? undefined : 'center',\n                }}\n                style={{\n                  marginTop: isMultiline ? 10 : undefined,\n                  marginRight: isSecureEyeIconVisible ? 40 : 10,\n                }}\n                icon={\n                  <Icon\n                    {...clearIconProps}\n                    type={IconType.Ionicons}\n                    name=\"close-circle\"\n                    color={clearIconColor}\n                  />\n                }\n                onTap={() => {\n                  if (!isPreview) {\n                    onClear && onClear();\n                  }\n                }}\n              />\n            )}\n            {isSecureEyeIconVisible && (\n              <FloatingIcon\n                containerStyle={{\n                  display: 'flex',\n                  justifyContent: 'center',\n                }}\n                style={{\n                  marginRight: 10,\n                }}\n                icon={\n                  <Icon\n                    {...secureEyeIconProps}\n                    type={IconType.Ionicons}\n                    name={secured ? 'eye' : 'eye-off'}\n                    color={secureEyeIconColor}\n                  />\n                }\n                onTap={() => {\n                  if (!isPreview) {\n                    setSecured((oldSecured) => !oldSecured);\n                  }\n                }}\n              />\n            )}\n          </View>\n        </View>\n      </View>\n    );\n  }\n);\n\nconst styleSheet = StyleSheet.create({\n  container: {\n    backgroundColor: 'transparent',\n  },\n  containerTextInput: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  placeholderContainer: {\n    marginBottom: 5,\n  },\n  containerClearIconTextInput: {\n    position: 'relative',\n  },\n\n  textInput: {\n    borderWidth: 1,\n    borderColor: 'blue',\n    borderRadius: 5,\n    paddingLeft: 10,\n    paddingRight: 10,\n  },\n  floatingIconContainer: {\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: 2,\n  },\n});\n\nexport default SimpleInput;\n"]}