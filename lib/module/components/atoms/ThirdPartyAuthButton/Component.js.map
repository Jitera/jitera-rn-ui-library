{"version":3,"sources":["Component.tsx"],"names":["React","useEffect","StyleSheet","ScaledSheet","TouchableOpacity","Svg","G","Path","WebBrowser","Google","Facebook","AppleAuthentication","Icon","IconType","Text","View","ThirdPartyAuthProvider","ERROR_COLOR","baseAuthStylesheet","create","container","backgroundColor","flexDirection","justifyContent","alignItems","padding","borderRadius","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","text","textAlign","marginLeft","fontSize","errorMessage","color","marginTop","googleAuthStylesheet","facebookAuthStylesheet","GoogleIcon","useLoginText","getLoginText","authProvider","authResult","type","ErrorMessage","GoogleAuthButton","config","style","value","onChange","_","response","promptAsync","useIdTokenAuthRequest","accessToken","authentication","flatten","GOOGLE","FacebookAuthButton","useAuthRequest","AntDesign","FACEBOOK","AppleAuthButton","buttonType","AppleAuthenticationButtonType","SIGN_IN","buttonStyle","AppleAuthenticationButtonStyle","BLACK","cornerRadius","props","handleLogin","credential","signInAsync","requestedScopes","AppleAuthenticationScope","FULL_NAME","EMAIL","idToken","identityToken","uid","user","e","code","AuthButton","APPLE","ThirdPartyAuthButton","warmUpAsync","coolDownAsync","Component"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\n\nimport { StyleProp, StyleSheet, TouchableOpacityProps, ViewStyle } from \"react-native\";\nimport { ScaledSheet } from \"react-native-size-matters\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport { Svg, G, Path } from \"react-native-svg\";\n\nimport type { AuthError, AuthSessionResult, TokenResponse } from \"expo-auth-session\";\nimport * as WebBrowser from \"expo-web-browser\";\nimport * as Google from \"expo-auth-session/providers/google\";\nimport * as Facebook from \"expo-auth-session/providers/facebook\";\nimport * as AppleAuthentication from \"expo-apple-authentication\";\n\nimport { Icon, IconType } from \"../Icon\";\nimport Text from \"../Text\";\nimport View from \"../View\";\n\ntype PartialBy<T, K extends keyof T> = Omit<T, K> & Partial<Pick<T, K>>;\n\nexport enum ThirdPartyAuthProvider {\n  GOOGLE = \"Google\",\n  FACEBOOK = \"Facebook\",\n  APPLE = \"Apple\",\n}\n\nexport type AuthSessionResultComplete = {\n  type: \"error\" | \"success\";\n  errorCode: string | null;\n  error?: AuthError | null;\n  params: {\n    [key: string]: string;\n  };\n  authentication: TokenResponse | null;\n  url: string;\n};\n\nexport interface BaseAuthResult {\n  authentication:\n    | Partial<AuthSessionResult>\n    | AppleAuthentication.AppleAuthenticationCredential\n    | null;\n}\n\nexport interface GoogleAuthResult extends BaseAuthResult {\n  accessToken: string | undefined;\n}\n\nexport interface FacebookAuthResult extends BaseAuthResult {\n  accessToken: string | undefined;\n}\n\nexport interface AppleAuthResult extends BaseAuthResult {\n  idToken: string | null;\n  uid: string | null;\n}\n\ninterface BaseThirdPartyAuthButtonProps {\n  errorMessage?: string;\n  value?: GoogleAuthResult | FacebookAuthResult | AppleAuthResult;\n  onChange?: (authResult: GoogleAuthResult | FacebookAuthResult | AppleAuthResult) => void;\n}\n\nexport interface ThirdPartyAuthButtonProps\n  extends Omit<TouchableOpacityProps, \"onPress\">,\n    PartialBy<\n      Omit<AppleAuthentication.AppleAuthenticationButtonProps, \"onPress\" | \"style\">,\n      \"buttonType\" | \"buttonStyle\"\n    >,\n    BaseThirdPartyAuthButtonProps {\n  type: ThirdPartyAuthProvider;\n  config?: Partial<Google.GoogleAuthRequestConfig> | Partial<Facebook.FacebookAuthRequestConfig>;\n}\n\nexport interface GoogleAuthButtonProps extends Omit<ThirdPartyAuthButtonProps, \"type\"> {}\n\nexport interface FacebookAuthButtonProps extends Omit<ThirdPartyAuthButtonProps, \"type\"> {}\n\nexport interface AppleAuthButtonProps extends Omit<ThirdPartyAuthButtonProps, \"type\" | \"config\"> {}\n\ninterface ErrorMessageProps {\n  errorMessage?: string;\n}\n\nconst ERROR_COLOR = \"#dc2626\";\n\nconst baseAuthStylesheet = ScaledSheet.create({\n  container: {\n    backgroundColor: \"transparent\",\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: \"8@s\",\n    borderRadius: \"5@s\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: \"1@s\",\n    },\n    shadowOpacity: \"0.2@s\",\n    shadowRadius: \"1.5@s\",\n    elevation: \"2@s\",\n  },\n  text: {\n    textAlign: \"center\",\n    marginLeft: \"8@s\",\n    fontSize: \"14@s\",\n  },\n  errorMessage: {\n    color: ERROR_COLOR,\n    marginTop: \"5@s\",\n  },\n});\n\nconst googleAuthStylesheet = ScaledSheet.create({\n  container: {\n    backgroundColor: \"white\",\n  },\n});\n\nconst facebookAuthStylesheet = ScaledSheet.create({\n  container: {\n    backgroundColor: \"#4267B2\",\n  },\n  text: {\n    color: \"#fff\",\n  },\n});\n\nconst GoogleIcon: React.FC = () => (\n  <Svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n    <G transform=\"matrix(1, 0, 0, 1, 27.009001, -39.238998)\">\n      <Path\n        fill=\"#4285F4\"\n        d=\"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z\"\n      />\n      <Path\n        fill=\"#34A853\"\n        d=\"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z\"\n      />\n      <Path\n        fill=\"#FBBC05\"\n        d=\"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z\"\n      />\n      <Path\n        fill=\"#EA4335\"\n        d=\"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z\"\n      />\n    </G>\n  </Svg>\n);\n\nconst useLoginText = () => {\n  const getLoginText = (\n    authProvider: ThirdPartyAuthProvider,\n    authResult?: AuthSessionResult | null\n  ) => {\n    if (authResult?.type === \"success\") {\n      return \"Signed In\";\n    }\n    return `Sign in with ${authProvider}`;\n  };\n  return {\n    getLoginText,\n  };\n};\n\nconst ErrorMessage: React.FC<ErrorMessageProps> = ({ errorMessage }) => (\n  <Text style={baseAuthStylesheet.errorMessage}>{errorMessage}</Text>\n);\n\nconst GoogleAuthButton: React.FC<GoogleAuthButtonProps> = ({\n  config,\n  style,\n  errorMessage,\n  value,\n  onChange,\n}) => {\n  const [_, response, promptAsync] = Google.useIdTokenAuthRequest(config!);\n  const { getLoginText } = useLoginText();\n\n  useEffect(() => {\n    onChange &&\n      onChange({\n        accessToken: (response as AuthSessionResultComplete)?.authentication?.accessToken,\n        authentication: response,\n      });\n  }, [response]);\n\n  return (\n    <TouchableOpacity\n      style={StyleSheet.flatten([style])}\n      onPress={() => {\n        promptAsync();\n      }}\n    >\n      <View\n        style={StyleSheet.flatten([\n          baseAuthStylesheet.container as StyleProp<ViewStyle>,\n          googleAuthStylesheet.container as StyleProp<ViewStyle>,\n        ])}\n      >\n        <GoogleIcon />\n        <Text style={StyleSheet.flatten([baseAuthStylesheet.text]) as StyleProp<ViewStyle>}>\n          {getLoginText(ThirdPartyAuthProvider.GOOGLE, value?.authentication as AuthSessionResult)}\n        </Text>\n      </View>\n      {errorMessage && <ErrorMessage errorMessage={errorMessage} />}\n    </TouchableOpacity>\n  );\n};\n\nconst FacebookAuthButton: React.FC<FacebookAuthButtonProps> = ({\n  config,\n  style,\n  errorMessage,\n  value,\n  onChange,\n}) => {\n  const [_, response, promptAsync] = Facebook.useAuthRequest(config!);\n  const { getLoginText } = useLoginText();\n\n  useEffect(() => {\n    onChange &&\n      onChange({\n        accessToken: (response as AuthSessionResultComplete)?.authentication?.accessToken,\n        authentication: response,\n      });\n  }, [response]);\n\n  return (\n    <TouchableOpacity\n      style={StyleSheet.flatten([style])}\n      onPress={() => {\n        promptAsync();\n      }}\n    >\n      <View\n        style={StyleSheet.flatten([\n          baseAuthStylesheet.container as StyleProp<ViewStyle>,\n          facebookAuthStylesheet.container as StyleProp<ViewStyle>,\n        ])}\n      >\n        <Icon type={IconType.AntDesign} name=\"facebook-square\" color={\"#fff\"} />\n        <Text\n          style={\n            StyleSheet.flatten([\n              baseAuthStylesheet.text as StyleProp<ViewStyle>,\n              facebookAuthStylesheet.text as StyleProp<ViewStyle>,\n            ]) as StyleProp<ViewStyle>\n          }\n        >\n          {getLoginText(\n            ThirdPartyAuthProvider.FACEBOOK,\n            value?.authentication as AuthSessionResult\n          )}\n        </Text>\n      </View>\n      {errorMessage && <ErrorMessage errorMessage={errorMessage} />}\n    </TouchableOpacity>\n  );\n};\n\nconst AppleAuthButton: React.FC<AppleAuthButtonProps> = ({\n  errorMessage,\n  value,\n  onChange,\n  style,\n  buttonType = AppleAuthentication.AppleAuthenticationButtonType.SIGN_IN,\n  buttonStyle = AppleAuthentication.AppleAuthenticationButtonStyle.BLACK,\n  cornerRadius = 5,\n  ...props\n}) => {\n  const handleLogin = async () => {\n    try {\n      const credential = await AppleAuthentication.signInAsync({\n        requestedScopes: [\n          AppleAuthentication.AppleAuthenticationScope.FULL_NAME,\n          AppleAuthentication.AppleAuthenticationScope.EMAIL,\n        ],\n      });\n      onChange &&\n        onChange({\n          idToken: credential.identityToken,\n          uid: credential.user,\n          authentication: credential,\n        });\n      // signed in\n    } catch (e) {\n      if (e.code === \"ERR_CANCELED\") {\n        onChange &&\n          onChange({\n            idToken: \"\",\n            uid: \"\",\n            authentication: { type: \"cancel\" },\n          });\n      } else {\n        onChange &&\n          onChange({\n            idToken: \"\",\n            uid: \"\",\n            authentication: { type: \"error\" },\n          });\n      }\n    }\n  };\n\n  return (\n    <TouchableOpacity>\n      <AppleAuthentication.AppleAuthenticationButton\n        {...props}\n        buttonType={buttonType}\n        buttonStyle={buttonStyle}\n        cornerRadius={cornerRadius}\n        style={StyleSheet.flatten([{ height: 44 }, style])}\n        onPress={handleLogin}\n      />\n      {errorMessage && <ErrorMessage errorMessage={errorMessage} />}\n    </TouchableOpacity>\n  );\n};\n\nconst AuthButton = {\n  [ThirdPartyAuthProvider.GOOGLE]: GoogleAuthButton,\n  [ThirdPartyAuthProvider.FACEBOOK]: FacebookAuthButton,\n  [ThirdPartyAuthProvider.APPLE]: AppleAuthButton,\n};\n\nconst ThirdPartyAuthButton: React.FC<ThirdPartyAuthButtonProps> = ({\n  type,\n  errorMessage,\n  ...props\n}) => {\n  useEffect(() => {\n    WebBrowser.warmUpAsync();\n\n    return () => {\n      WebBrowser.coolDownAsync();\n    };\n  }, []);\n\n  const Component = AuthButton?.[type];\n\n  return Component ? <Component {...props} errorMessage={errorMessage} /> : null;\n};\n\nexport default ThirdPartyAuthButton;\n"]}